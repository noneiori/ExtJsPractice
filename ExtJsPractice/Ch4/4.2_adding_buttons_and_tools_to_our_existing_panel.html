<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <title>Ext JS in Action Chapter 04 Listing 4.2 Adding buttons and tools to our existing panel</title>
    <link href="../ext-3.4.1/resources/css/ext-all.css" rel="stylesheet" />
    <script src="../ext-3.4.1/adapter/ext/ext-base.js"></script>
    <script src="../ext-3.4.1/ext-all.js"></script>
</head> 
<body> 

<script type="text/javascript">
//Ext.BLANK_IMAGE_URL = '/extjs/resources/images/default/s.gif';
    //部份註解見4.1
Ext.onReady(function() {
    var myBtnHandler = function(btn) {
        Ext.MessageBox.alert('You Clicked', btn.text);
    };

    var fileBtn =  new Ext.Button({
        text    : 'File',
        handler : myBtnHandler
    });
    var editBtn = new Ext.Button({
        text    : 'Edit',
        handler : myBtnHandler
    });

    var tbFill = new Ext.Toolbar.Fill();

    var myTopToolbar = new Ext.Toolbar({
        items : [
            fileBtn,
            tbFill,
            editBtn
        ]
    });

    var myBottomToolbar = [
        {
            text    : 'Save',
            handler : myBtnHandler
        },
        '-',
        {
            text    : 'Cancel',
            handler : myBtnHandler
        },
        '->',
        '<b>Items open: 1</b>'
    ];


    var myPanel = new Ext.Panel({
        width       : 200,
        height      : 150,
        title: 'Ext Panels rock!',
        //設定是否可折疊
        collapsible : true,
        renderTo    : Ext.getBody(),
        tbar        : myTopToolbar,
        bbar        : myBottomToolbar,
        html        : 'My first Toolbar Panel!',
        buttons     : [
            {
                text    : 'Press me!',
                handler : myBtnHandler
            }

        ],
        //設定在最上方的tools區的實體物件
        tools       : [
            {
                id      : 'gear',
                handler : function(evt, toolEl, panel) {
                    var toolClassNames = toolEl.dom.className.split(' ');
                    var toolClass      = toolClassNames[1];
                    var toolId         = toolClass.split('-')[2];

                    Ext.MessageBox.alert('You Clicked', 'Tool ' + toolId);
                }
            },            
            {
                id      : 'help',
                handler : function() {
                    Ext.MessageBox.alert('You Clicked', 'The help tool');
                }
            }
        ]
    });

});

</script> 
</body>
</html>
